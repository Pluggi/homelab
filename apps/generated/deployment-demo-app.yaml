"apiVersion: \"apps/v1\"\nkind: \"Deployment\"\nmetadata:\n  labels:\n    pluggi.fr/budget: \"engineering\"\n    pluggi.fr/team: \"sre\"\n  name: \"demo-app\"\n  namespace: \"default\"\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: \"demo-app\"\n  template:\n    metadata:\n      labels:\n        app: \"demo-app\"\n    spec:\n      containers:\n        - env:\n            - name: \"NODE_NAME\"\n              valueFrom:\n                fieldRef:\n                  fieldPath: \"spec.nodeName\"\n            - name: \"POD_IP\"\n              valueFrom:\n                fieldRef:\n                  fieldPath: \"status.podIP\"\n            - name: \"KUBE_CLUSTER\"\n              value: \"k3d-homelab\"\n          image: \"nginx:1.25\"\n          name: \"demo-app\"\n          ports:\n            - containerPort: 80\n              name: \"http\""
